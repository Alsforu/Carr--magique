<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CarrÃ© Magique</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
  }
  #gameArea {
    position: relative;
    width: 400px;
    height: 400px;
    background-color: #fff;
    border: 2px solid #333;
    margin-bottom: 20px;
  }
  .square {
    width: 50px;
    height: 50px;
    position: absolute;
    cursor: pointer;
  }
  #score {
    font-size: 20px;
  }
</style>
</head>
<body>

<h1>CarrÃ© Magique ðŸŽ®</h1>
<div id="gameArea"></div>
<p id="score">Score : 0</p>
<button id="startBtn">Commencer le jeu</button>

<script>
let score = 0;
let gameInterval;
const gameArea = document.getElementById("gameArea");
const scoreDisplay = document.getElementById("score");
const startBtn = document.getElementById("startBtn");

function getRandomPosition() {
  const x = Math.floor(Math.random() * (gameArea.clientWidth - 50));
  const y = Math.floor(Math.random() * (gameArea.clientHeight - 50));
  return {x, y};
}

function getRandomColor() {
  const letters = '0123456789ABCDEF';
  let color = '#';
  for(let i=0; i<6; i++){
    color += letters[Math.floor(Math.random()*16)];
  }
  return color;
}

function createSquare() {
  const square = document.createElement("div");
  square.classList.add("square");
  const {x, y} = getRandomPosition();
  square.style.left = x + "px";
  square.style.top = y + "px";
  square.style.backgroundColor = getRandomColor();
  gameArea.appendChild(square);

  square.addEventListener("click", () => {
    score++;
    scoreDisplay.textContent = "Score : " + score;
    gameArea.removeChild(square);
  });

  setTimeout(() => {
    if(gameArea.contains(square)){
      gameArea.removeChild(square);
    }
  }, 1000);
}

function startGame() {
  score = 0;
  scoreDisplay.textContent = "Score : 0";
  startBtn.disabled = true;

  gameInterval = setInterval(createSquare, 800);

  setTimeout(() => {
    clearInterval(gameInterval);
    alert("Temps Ã©coulÃ© ! Ton score : " + score);
    startBtn.disabled = false;
  }, 30000); // 30 secondes de jeu
}

startBtn.addEventListener("click", startGame);
</script>

</body>
</html>
